(this.webpackJsonpfms=this.webpackJsonpfms||[]).push([[0],{100:function(e,t,a){},148:function(e,t){e.exports="data:image/png;base64,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"},149:function(e,t,a){e.exports=a.p+"static/media/addfolder.e8390dad.jpg"},150:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(9),c=a.n(l),o=(a(100),a(21)),u=a(14),i=a(10),s=a(19),d=a(13),m=a.n(d),p=a(22),f=a(50),b=a.n(f),F=(a(110),a(111),a(114),b.a.initializeApp({apiKey:"AIzaSyAkCefYKT8e6dUFEN1Go1Y0_XzK__mrTLI",authDomain:"file-management-system-4500e.firebaseapp.com",databaseURL:"https://file-management-system-4500e.firebaseio.com",projectId:"file-management-system-4500e",storageBucket:"file-management-system-4500e.appspot.com",messagingSenderId:"854712030315",appId:"1:854712030315:web:c2b2a3f4914b097932cd2e",measurementId:"G-SF3VSZ4KW4"})),E=b.a.auth(),g=b.a.firestore(),h=F.firestore(),v=new b.a.auth.GoogleAuthProvider,w=function(){E.signInWithPopup(v)},x=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,n,l,c,o,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=g.doc("files/".concat(t.id)),e.next=6,r.get();case 6:if(e.sent.exists){e.next=17;break}return n=t.parentFolderId,l=t.id,c=t.name,o=t.type,u=t.url,e.prev=9,e.next=12,r.set(Object(s.a)({parentFolderId:n,id:l,name:c,type:o,url:u,time:(new Date).getTime()},a));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.error("Error creating file document",e.t0);case 17:return e.abrupt("return",O(t.id));case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,g.doc("files/".concat(t)).get();case 5:return a=e.sent,e.abrupt("return",Object(s.a)({id:t},a.data()));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,n,l,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=g.doc("users/".concat(t.uid)),e.next=5,r.get();case 5:if(e.sent.exists){e.next=16;break}return n=t.email,l=t.displayName,c=t.photoURL,e.prev=8,e.next=11,r.set(Object(s.a)({displayName:l,email:n,photoURL:c},a));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.error("Error creating user document",e.t0);case 16:return e.abrupt("return",S(t.uid));case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,g.doc("users/".concat(t)).get();case 5:return a=e.sent,e.abrupt("return",Object(s.a)({uid:t},a.data()));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),j=a(214),C=a(200),I=a(60),k=a.n(I),A=Object(C.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(2),width:"45ch"},width:"100%"}}})),N=function(){var e,t=Object(r.useState)(""),a=Object(i.a)(t,2),l=a[0],c=a[1],s=Object(r.useState)(""),d=Object(i.a)(s,2),m=d[0],p=d[1],f=Object(r.useState)(null),b=Object(i.a)(f,2),F=b[0],g=b[1],h=A(),v=function(e){var t=e.currentTarget,a=t.name,r=t.value;"userEmail"===a?c(r):"userPassword"===a&&p(r)};return n.a.createElement("div",{className:"mt-8"},n.a.createElement("h1",{className:"text-3xl mb-2 text-center font-bold"},"Sign In"),n.a.createElement("div",{className:"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8"},null!==F&&n.a.createElement("div",{className:"py-4 bg-red-600 w-full text-white text-center mb-3"},F),n.a.createElement("form",{className:h.root,noValidate:!0,autoComplete:"off"},n.a.createElement(j.a,(e={required:!0,id:"standard-required",label:"Email :",defaultValue:l,type:"email",className:"my-1 p-1 w-full",name:"userEmail"},Object(u.a)(e,"defaultValue",l),Object(u.a)(e,"placeholder","E.g: Andy@gmail.com"),Object(u.a)(e,"id","userEmail"),Object(u.a)(e,"onChange",(function(e){return v(e)})),e)),n.a.createElement(j.a,{required:!0,id:"standard-password-input",label:"Password :",type:"password",autoComplete:"current-password",className:"mt-1 mb-3 p-1 w-full",name:"userPassword",defaultValue:m,placeholder:"Your Password",onChange:function(e){return v(e)}}),n.a.createElement("button",{className:"bg-green-400 hover:bg-green-500 w-full py-2 text-white",onClick:function(e){!function(e,t,a){e.preventDefault(),E.signInWithEmailAndPassword(t,a).catch((function(e){g("Error signing in with password and email!"),console.error("Error signing in with password and email",e)}))}(e,l,m)}},"Sign in")),n.a.createElement("p",{className:"text-center my-3"},"or"),n.a.createElement("button",{className:"bg-red-500 hover:bg-red-600 w-full py-2 text-white",onClick:w},"Sign in with Google"),n.a.createElement("p",{className:"text-center my-3"},"Don't have an account?"," ",n.a.createElement(o.a,{to:"signUp",className:"text-blue-500 hover:text-blue-600"},"Sign up here")," ",n.a.createElement("br",null)," ",n.a.createElement(o.a,{to:"passwordReset",className:"text-blue-500 hover:text-blue-600"},"Forgot Password?"))))},D=Object(C.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(2),width:"45ch"},width:"100%"}}})),J=function(){var e,t,a,l,c=Object(r.useState)(""),s=Object(i.a)(c,2),d=s[0],f=s[1],b=Object(r.useState)(""),F=Object(i.a)(b,2),g=F[0],h=F[1],v=Object(r.useState)(""),w=Object(i.a)(v,2),x=w[0],O=w[1],S=Object(r.useState)(""),C=Object(i.a)(S,2),I=C[0],k=C[1],A=Object(r.useState)(null),N=Object(i.a)(A,2),J=N[0],L=N[1],P=D(),W=function(){var e=Object(p.a)(m.a.mark((function e(t,a,r){var n,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!r||!x||r==x){e.next=3;break}return e.abrupt("return",L("Error Signing up Password and Confirm password must be same"));case 3:if(/(?!.*\.{2})^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([\t]*\r\n)?[\t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([\t]*\r\n)?[\t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i.test(String(a).toLowerCase())){e.next=6;break}return e.abrupt("return",L("Error Signing up Invalid Email Address"));case 6:return e.prev=6,e.next=9,E.createUserWithEmailAndPassword(a,r);case 9:n=e.sent,l=n.user,y(l,{displayName:I}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),L("Error Signing up with email and password");case 17:f(""),h(""),k(""),O("");case 21:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t,a,r){return e.apply(this,arguments)}}(),Q=function(e){var t=e.currentTarget,a=t.name,r=t.value;"userEmail"===a?f(r):"userPassword"===a?h(r):"displayName"===a?k(r):"userRePassword"==a&&O(r)};return n.a.createElement("div",{className:"mt-8"},n.a.createElement("h1",{className:"text-3xl mb-2 text-center font-bold"},"Sign Up"),n.a.createElement("div",{className:"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8"},null!==J&&n.a.createElement("div",{className:"py-4 bg-red-600 w-full text-white text-center mb-3"},J),n.a.createElement("form",{className:P.root,noValidate:!0,autoComplete:"off"},n.a.createElement(j.a,(e={required:!0,id:"standard-required",label:"User Name",type:"text",className:"my-1 p-1 w-full ",name:"displayName",defaultValue:I,placeholder:"E.g: Andy Baker"},Object(u.a)(e,"id","displayName"),Object(u.a)(e,"onChange",(function(e){return Q(e)})),e)),n.a.createElement(j.a,(t={required:!0,id:"standard-required",label:"Email",defaultValue:"E.g: Andy@gmail.com",type:"email",name:"userEmail"},Object(u.a)(t,"defaultValue",d),Object(u.a)(t,"onChange",(function(e){return Q(e)})),t)),n.a.createElement(j.a,(a={id:"standard-password-input",label:"Password :",type:"password",autoComplete:"current-password",name:"userPassword",value:g,placeholder:"Your Password"},Object(u.a)(a,"id","userPassword"),Object(u.a)(a,"onChange",(function(e){return Q(e)})),a)),n.a.createElement(j.a,(l={id:"standard-password-input",label:"Confirm Password :",type:"password",autoComplete:"current-password",name:"userRePassword",value:x,placeholder:"Reenter Your Password"},Object(u.a)(l,"id","userRePassword"),Object(u.a)(l,"onChange",(function(e){return Q(e)})),l)),n.a.createElement("button",{className:"bg-green-400 hover:bg-green-500 w-full py-2 text-white",onClick:function(e){W(e,d,g)}},"Sign up")),n.a.createElement("p",{className:"text-center my-3"},"Already have an account?"," ",n.a.createElement(o.a,{to:"/",className:"text-blue-500 hover:text-blue-600"},"Sign in here"))))},L=a(79),P=a(80),W=a(88),Q=a(86),T=Object(r.createContext)({user:null}),R=function(e){Object(W.a)(a,e);var t=Object(Q.a)(a);function a(){var e;Object(L.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).state={user:{isLoaded:!1}},e.componentDidMount=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:E.onAuthStateChanged(function(){var t=Object(p.a)(m.a.mark((function t(a){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(a);case 2:(r=t.sent)||(r={}),r.isLoaded=!0,e.setState({user:r});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)}))),e}return Object(P.a)(a,[{key:"render",value:function(){return n.a.createElement(T.Provider,{value:this.state.user},this.props.children)}}]),a}(r.Component),z=function(){var e=Object(r.useContext)(T),t=(e.photoURL,e.displayName),a=e.email;return n.a.createElement("div",{className:"mx-auto w-11/12 md:w-2/4 py-8 px-4 md:px-8"},n.a.createElement("div",{className:"flex border flex-col items-center md:flex-row md:items-start border-blue-400 px-3 py-4"},n.a.createElement("div",{className:"md:pl-4"},n.a.createElement("h2",{className:"text-2xl font-semibold"},t),n.a.createElement("h3",{className:"italic"},a))))},M=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(r.useState)(!1),u=Object(i.a)(c,2),s=u[0],d=u[1],m=Object(r.useState)(null),p=Object(i.a)(m,2),f=p[0],b=p[1];return n.a.createElement("div",{className:"mt-8"},n.a.createElement("h1",{className:"text-xl text-center font-bold mb-3"},"Reset your Password"),n.a.createElement("div",{className:"border border-blue-300 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8"},n.a.createElement("form",{action:""},s&&n.a.createElement("div",{className:"py-3 bg-green-400 w-full text-white text-center mb-3"},"An email has been sent to you!"),null!==f&&n.a.createElement("div",{className:"py-3 bg-red-600 w-full text-white text-center mb-3"},f),n.a.createElement("label",{htmlFor:"userEmail",className:"w-full block"},"Email:"),n.a.createElement("input",{type:"email",name:"userEmail",id:"userEmail",value:a,placeholder:"Input your email",onChange:function(e){var t=e.currentTarget,a=t.name,r=t.value;"userEmail"===a&&l(r)},className:"mb-3 w-full px-1 py-2"}),n.a.createElement("button",{className:"w-full bg-blue-400 text-white py-3",onClick:function(e){e.preventDefault(),E.sendPasswordResetEmail(a).then((function(){d(!0),setTimeout((function(){d(!1)}),3e3)})).catch((function(){b("Error resetting password")}))}},"Send me a reset link")),n.a.createElement(o.a,{to:"/",className:"my-2 text-blue-700 hover:text-blue-800 text-center block"},"\u2190 back to sign in page")))},U=a(81),K=a.n(U),B=a(212),V=a(213),Y=a(204),q=a(205),Z=a(207),G=a(206),X=a(82),H=a.n(X),_=a(83),$=a.n(_),ee=a(217),te=a(87),ae=Object(C.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function re(){var e=ae(),t=n.a.useState(!0),a=Object(i.a)(t,2),l=a[0],c=(a[1],n.a.useState(null)),u=Object(i.a)(c,2),s=u[0],d=u[1],m=Boolean(s),p=Object(r.useContext)(T),f=p.displayName,b=(p.email,function(){d(null)});return n.a.createElement("div",{className:e.root},n.a.createElement(Y.a,{position:"static"},n.a.createElement(q.a,null,n.a.createElement(G.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},n.a.createElement(H.a,null)),n.a.createElement(Z.a,{variant:"h6",className:e.title},"File Management System"),l&&n.a.createElement("div",null,n.a.createElement("span",{style:{fontSize:"18px"}}," Hi ",f," "),n.a.createElement(G.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},color:"inherit"},n.a.createElement($.a,null)),n.a.createElement(te.a,{id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:b},n.a.createElement(ee.a,{onClick:b}," ",n.a.createElement(o.a,{to:"profile"}," Profile")),n.a.createElement(ee.a,{onClick:b},"My account"),n.a.createElement(ee.a,{onClick:function(){E.signOut()}},"LogOut"))))))}var ne=a(24),le={file:{parentFolderId:null,currentFolderId:null,files:[]}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_FILE":return e=Object(s.a)(Object(s.a)({},e),{},{file:Object(s.a)(Object(s.a)({},e.file),{},{parentFolderId:t.payload.parentFolderId,currentFolderId:t.payload.currentFolderId})});case"ADD_FILE":return e=Object(s.a)(Object(s.a)({},e),{},{file:Object(s.a)(Object(s.a)({},e.file),{},{files:t.payload})});default:return e}};var oe=Object(ne.c)({folderSettings:ce}),ue=a(85),ie=a(61),se=a(45),de=Object(se.a)(),me=Object(ie.routerMiddleware)(de),pe=Object(ne.e)(oe,window.__REDUX_DEVTOOLS_EXTENSION__?Object(ne.d)(Object(ne.a)(me),window.__REDUX_DEVTOOLS_EXTENSION__()):Object(ne.a)(Object(ue.createLogger)(),me)),fe=a(211),be=a(210),Fe=a(216),Ee=a(209),ge=a(208),he=Object(C.a)((function(e){return{form:Object(u.a)({display:"flex",flexDirection:"column",margin:"auto",width:"fit-content",marginTop:e.spacing(2),minWidth:220,minHeight:80,justifyContent:"center",padding:e.spacing(2),justifyItems:"center"},"marginTop",e.spacing(1)),formControl:{marginTop:e.spacing(2),minWidth:120},formControlLabel:{marginTop:e.spacing(1)}}}));function ve(e){var t=n.a.useState(!1),a=Object(i.a)(t,2),r=a[0],l=a[1],c=n.a.useState(null),o=Object(i.a)(c,2),u=o[0],s=o[1],d=he();return n.a.createElement("div",null,n.a.createElement("span",{onClick:function(){l(!0)}}," ",e.children),n.a.createElement(Fe.a,{open:r,onClose:function(){l(!1)},"aria-labelledby":"form-dialog-title"},n.a.createElement(ge.a,{class:d.form},n.a.createElement(j.a,{required:!0,autoFocus:!0,margin:"dense",id:"name",label:"Folder Name :",type:"text",fullWidth:!0,onChange:function(e){e.target.value&&""!=e.target.value&&s(e.target.value)}})),n.a.createElement(Ee.a,null,n.a.createElement(be.a,{style:{marginRight:"20px"},onClick:function(t){t.preventDefault(),e.handleFolderAdd(u),s(null),l(!1)},variant:"contained",justify:"center",color:"primary"},"Create Folder"))))}var we=a(44),xe=[],Oe=Object(C.a)((function(e){return{root:{flexGrow:1},folder:{height:100,width:100,marginTop:e.spacing(2)},control:{padding:e.spacing(2)},header:{padding:e.spacing(2),margin:e.spacing(2)}}}));var ye=Object(we.b)((function(e){return{folderSettings:e.folderSettings}}),(function(e){return{setFileSettings:function(t){return e({type:"SET_FILE",payload:t})},setFiles:function(t){return e({type:"ADD_FILE",payload:t})}}}))((function(e){var t=n.a.useState(2),l=Object(i.a)(t,2),c=l[0],o=(l[1],n.a.useState([])),u=Object(i.a)(o,2),s=u[0],d=u[1],f=n.a.useState({}),b=Object(i.a)(f,2),F=b[0],E=b[1],g=n.a.useState("Home"),v=Object(i.a)(g,2),w=v[0],O=v[1],y=n.a.useState({}),S=Object(i.a)(y,2),j=(S[0],S[1]),C=Oe(),I=Object(r.useContext)(T),A=(I.displayName,I.email),N=function(){var t=Object(p.a)(m.a.mark((function t(){var a,r,n,l=arguments;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>0&&void 0!==l[0]?l[0]:null,t.prev=1,t.next=4,h.collection("files").where("parentFolderId","==",a).get();case 4:return r=t.sent,null!=(n=r.docs.map((function(e){return e.data()})))&&n&&(d(n),e.setFiles(n.sort((function(e,t){return e.time-t.time})))),t.abrupt("return",n);case 10:t.prev=10,t.t0=t.catch(1),console.error("Error fetching files",t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=N(F.parentFolderId||A);e&&null!=e&&d(e),O("Home")}),[]),Object(r.useEffect)((function(){e.folderSettings&&e.folderSettings.parentFolderId&&null!=e.folderSettings.parentFolderId?E({parentFolderId:e.folderSettings.parentFolderId,currentFolderId:e.folderSettings.currentFolderId}):E({parentFolderId:A}),d(e.folderSettings.file.files)}),[e.folderSettings]),Object(r.useEffect)((function(){e.folderSettings.file.files&&null!=e.folderSettings.file.files?d(e.folderSettings.file.files):d([])}),[e.folderSettings.file.files]),n.a.createElement(fe.a,{container:!0,className:C.root,spacing:2},n.a.createElement(Z.a,{onClick:function(t){return function(){var t=xe.pop();t&&(t.parentFolderId||t.currentFolderId)&&(E({parentFolderId:t.parentFolderId,currentFolderId:t.currentFolderId}),e.setFileSettings({parentFolderId:t.parentFolderId,currentFolderId:t.currentFolderId}),O(t.currentPage),N(t.parentFolderId))}()},display:"block",variant:"h6",className:C.header},w),n.a.createElement(fe.a,{item:!0,xs:12},n.a.createElement(fe.a,{container:!0,justify:"flex-start",spacing:c},s&&s.length>0&&s.map((function(t){return n.a.createElement(fe.a,{key:t.id,item:!0,onClick:function(a){a.preventDefault(),function(t){var a=t.parentFolderId,r=t.currentFolderId;j({parentFolderId:a,currentFolderId:r,currentPage:w}),xe.push({parentFolderId:a,currentFolderId:r,currentPage:w}),E({parentFolderId:t.id,currentFolderId:t.id}),e.setFileSettings({parentFolderId:t.id,currentFolderId:t.id}),O(t.name),N(t.id)}(t)}},n.a.createElement("img",{src:a(148),className:C.folder}),n.a.createElement("label",null,t.name))})),n.a.createElement(fe.a,{key:-1,item:!0},n.a.createElement(ve,{handleFolderAdd:function(t){if(t&&null!=t&&""!=t){var a={};a.parentFolderId=e.folderSettings.file.parentFolderId,a.id=k()(),a.name=t,a.type="folder",a.url="",s.push(a),x(a),e.setFiles(s)}}},n.a.createElement("img",{src:a(149),title:"New Folder",className:C.folder}))))))}));var Se=function(){var e=Object(r.useContext)(T),t=Object(se.a)();return n.a.createElement(we.a,{store:pe},n.a.createElement(B.a,null),e.isLoaded&&e.email?n.a.createElement(V.a,null,n.a.createElement(re,null),n.a.createElement(o.b,{history:t},n.a.createElement(z,{path:"profile"}),n.a.createElement(ye,{path:"/"}),n.a.createElement(ye,{path:"/fms"}))):e.isLoaded?n.a.createElement(V.a,{maxWidth:"md"},n.a.createElement(o.b,{history:t},n.a.createElement(J,{path:"signUp"}),n.a.createElement(N,{path:"/"}),n.a.createElement(M,{path:"passwordReset"}))):n.a.createElement(K.a,{style:{margin:"300px 800px auto"},type:"ThreeDots",color:"#00BFFF",height:80,width:80}))};var je=function(){return n.a.createElement(R,null,n.a.createElement(Se,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},95:function(e,t,a){e.exports=a(150)}},[[95,1,2]]]);
//# sourceMappingURL=main.ded7e3d0.chunk.js.map