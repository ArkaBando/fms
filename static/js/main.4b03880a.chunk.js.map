{"version":3,"sources":["folder.png","addfolder.jpg","firebase.js","Components/SignIn.js","Components/SignUp.js","providers/UserProvider.js","Components/ProfilePage.js","Components/PasswordReset.js","Components/MenuAppBar.js","reducer/fileReducer.js","reducer/rootReducer.js","store.js","Components/Dialog.js","Container/files.js","Components/Application.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","firebaseApp","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","db","provider","GoogleAuthProvider","signInWithGoogle","signInWithPopup","generateFileStructure","file","fileDetails","a","fileRef","doc","id","get","exists","parentFolderId","name","type","url","set","time","Date","getTime","console","error","getFileDocument","fileDocument","data","generateUserDocument","user","additionalData","userRef","uid","email","displayName","photoURL","getUserDocument","userDocument","useStyles","makeStyles","theme","root","margin","spacing","width","SignIn","useState","setEmail","password","setPassword","setError","classes","onChangeHandler","event","currentTarget","value","className","noValidate","autoComplete","TextField","required","label","defaultValue","placeholder","onChange","onClick","preventDefault","signInWithEmailAndPassword","catch","signInWithEmailAndPasswordHandler","to","SignUp","rePassword","setRePassword","setDisplayName","createUserWithEmailAndPasswordHandler","test","String","toLowerCase","createUserWithEmailAndPassword","UserContext","createContext","UserProvider","state","isLoaded","componentDidMount","onAuthStateChanged","userAuth","setState","Provider","this","props","children","Component","ProfilePage","useContext","PasswordReset","emailHasBeenSent","setEmailHasBeenSent","action","htmlFor","sendPasswordResetEmail","then","setTimeout","flexGrow","menuButton","marginRight","title","MenuAppBar","React","anchorEl","setAnchorEl","open","Boolean","handleClose","AppBar","position","Toolbar","IconButton","edge","color","aria-label","Typography","variant","style","fontSize","aria-controls","aria-haspopup","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","authService","signOut","initialState","currentFolderId","files","prefReducer","payload","combineReducers","folderSettings","fileReducer","browserHistory","createBrowserHistory","routeMiddleware","routerMiddleware","store","createStore","rootReducer","window","__REDUX_DEVTOOLS_EXTENSION__","compose","applyMiddleware","createLogger","form","display","flexDirection","marginTop","minWidth","minHeight","justifyContent","padding","justifyItems","formControl","formControlLabel","FormDialog","setOpen","folderName","setFolderName","Dialog","aria-labelledby","DialogContent","class","autoFocus","fullWidth","e","target","DialogActions","Button","handleFolderAdd","justify","backStack","folder","height","control","header","connect","dispatch","setFileSettings","mode","setFiles","folders","setFolders","folderSetting","setFolderSettings","currentPageName","setCurrentPageName","setPrevSettings","fetchAllFiles","collection","where","querySnapshot","docs","map","sort","t1","t2","useEffect","folderList","Grid","container","prevSetting","pop","currentPage","goToPrevPage","item","xs","length","key","setting","parentId","currentId","push","setCurrentFolderSettings","src","require","uuid","Application","CssBaseline","Container","history","path","maxWidth","App","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.4b03880a.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/addfolder.e8390dad.jpg\";","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport * as fb from \"firebase\";\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAkCefYKT8e6dUFEN1Go1Y0_XzK__mrTLI\",\r\n  authDomain: \"file-management-system-4500e.firebaseapp.com\",\r\n  databaseURL: \"https://file-management-system-4500e.firebaseio.com\",\r\n  projectId: \"file-management-system-4500e\",\r\n  storageBucket: \"file-management-system-4500e.appspot.com\",\r\n  messagingSenderId: \"854712030315\",\r\n  appId: \"1:854712030315:web:c2b2a3f4914b097932cd2e\",\r\n  measurementId: \"G-SF3VSZ4KW4\",\r\n};\r\n// Initialize Firebase\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\nexport const db = firebaseApp.firestore();\r\n\r\n// firebase.analytics();\r\n\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n// export const fetchAllFiles = aync () => {\r\n//   debugger;\r\n//   let querySnapshot = await db.collection(\"files\")\r\n//     .where(\"parentId\", \"==\", null)\r\n//     .get();\r\n\r\n//     const data = querySnapshot.docs.map((doc) => doc.data());\r\n//     console.log(data);\r\n//     return data;\r\n// };\r\n\r\nexport const fetchAllFiles = async (parentFolderId = null) => {\r\n  try {\r\n    let querySnapshot = await db\r\n      .collection(\"files\")\r\n      .where(\"parentFolderId\", \"==\", parentFolderId)\r\n      .get();\r\n    // .then((querySnapshot)=>{\r\n    //   let data = querySnapshot.docs.map((doc) => doc.data());\r\n    //   console.log(data);\r\n    // })\r\n\r\n    const data = querySnapshot.docs.map((doc) => doc.data());\r\n    console.log(data);\r\n    return data;\r\n  } catch (e) {\r\n    console.error(\"Error fetching files\", e);\r\n  }\r\n};\r\n\r\nexport const signInWithGoogle = () => {\r\n  auth.signInWithPopup(provider);\r\n};\r\n\r\nexport const generateFileStructure = async (file, fileDetails) => {\r\n  if (!file) return;\r\n  debugger;\r\n  const fileRef = firestore.doc(`files/${file.id}`);\r\n  const snapshot = await fileRef.get();\r\n  if (!snapshot.exists) {\r\n    const { parentFolderId, id, name, type, url } = file;\r\n    try {\r\n      await fileRef.set({\r\n        parentFolderId,\r\n        id,\r\n        name,\r\n        type,\r\n        url,\r\n        time: new Date().getTime(),\r\n        ...fileDetails,\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error creating file document\", error);\r\n    }\r\n\r\n    // debugger;\r\n    // let files = firestore.doc(`files`);\r\n    // // firebase.database().ref(\"files\");\r\n    // files.orderByChild(\"name\").equalTo(\"file1\").on(\"child_added\", function(snapshot) {\r\n    //   console.log(snapshot.key);\r\n    // });\r\n  }\r\n  return getFileDocument(file.id);\r\n};\r\n\r\nconst getFileDocument = async (id) => {\r\n  if (!id) return null;\r\n  try {\r\n    const fileDocument = await firestore.doc(`files/${id}`).get();\r\n    return {\r\n      id,\r\n      ...fileDocument.data(),\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error fetching user\", error);\r\n  }\r\n};\r\n\r\nexport const generateUserDocument = async (user, additionalData) => {\r\n  if (!user) return;\r\n  const userRef = firestore.doc(`users/${user.uid}`);\r\n  const snapshot = await userRef.get();\r\n  if (!snapshot.exists) {\r\n    const { email, displayName, photoURL } = user;\r\n    try {\r\n      await userRef.set({\r\n        displayName,\r\n        email,\r\n        photoURL,\r\n        ...additionalData,\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error creating user document\", error);\r\n    }\r\n  }\r\n  return getUserDocument(user.uid);\r\n};\r\nconst getUserDocument = async (uid) => {\r\n  if (!uid) return null;\r\n  try {\r\n    const userDocument = await firestore.doc(`users/${uid}`).get();\r\n    return {\r\n      uid,\r\n      ...userDocument.data(),\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error fetching user\", error);\r\n  }\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"@reach/router\";\r\nimport { auth } from \"../firebase\";\r\nimport {\r\n  signInWithGoogle,\r\n} from \"../firebase\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport uuid from \"react-uuid\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(2),\r\n      width: \"45ch\",\r\n    },\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nconst SignIn = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n  const classes = useStyles();\r\n\r\n  const signInWithEmailAndPasswordHandler = (event, email, password) => {\r\n    event.preventDefault();\r\n    auth.signInWithEmailAndPassword(email, password).catch((error) => {\r\n      setError(\"Error signing in with password and email!\");\r\n      console.error(\"Error signing in with password and email\", error);\r\n    });\r\n  };\r\n\r\n  const onChangeHandler = (event) => {\r\n    const { name, value } = event.currentTarget;\r\n\r\n    if (name === \"userEmail\") {\r\n      setEmail(value);\r\n    } else if (name === \"userPassword\") {\r\n      setPassword(value);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"mt-8\">\r\n      <h1 className=\"text-3xl mb-2 text-center font-bold\">Sign In</h1>\r\n      <div className=\"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8\">\r\n        {error !== null && (\r\n          <div className=\"py-4 bg-red-600 w-full text-white text-center mb-3\">\r\n            {error}\r\n          </div>\r\n        )}\r\n        <form className={classes.root} noValidate autoComplete=\"off\">\r\n          <TextField\r\n            required\r\n            id=\"standard-required\"\r\n            label=\"Email :\"\r\n            defaultValue={email}\r\n            type=\"email\"\r\n            className=\"my-1 p-1 w-full\"\r\n            name=\"userEmail\"\r\n            defaultValue={email}\r\n            placeholder=\"E.g: Andy@gmail.com\"\r\n            id=\"userEmail\"\r\n            onChange={(event) => onChangeHandler(event)}\r\n          />\r\n          \r\n          <TextField\r\n            required\r\n            id=\"standard-password-input\"\r\n            label=\"Password :\"\r\n            type=\"password\"\r\n            autoComplete=\"current-password\"\r\n            className=\"mt-1 mb-3 p-1 w-full\"\r\n            name=\"userPassword\"\r\n            defaultValue={password}\r\n            placeholder=\"Your Password\"\r\n            onChange={(event) => onChangeHandler(event)}\r\n          />\r\n          <button\r\n            className=\"bg-green-400 hover:bg-green-500 w-full py-2 text-white\"\r\n            onClick={(event) => {\r\n              signInWithEmailAndPasswordHandler(event, email, password);\r\n            }}\r\n          >\r\n            Sign in\r\n          </button>\r\n        </form>\r\n        <p className=\"text-center my-3\">or</p>\r\n        <button\r\n          className=\"bg-red-500 hover:bg-red-600 w-full py-2 text-white\"\r\n          onClick={signInWithGoogle}\r\n        >\r\n          Sign in with Google\r\n        </button>\r\n        <p className=\"text-center my-3\">\r\n          Don't have an account?{\" \"}\r\n          <Link to=\"signUp\" className=\"text-blue-500 hover:text-blue-600\">\r\n            Sign up here\r\n          </Link>{\" \"}\r\n          <br />{\" \"}\r\n          <Link\r\n            to=\"passwordReset\"\r\n            className=\"text-blue-500 hover:text-blue-600\"\r\n          >\r\n            Forgot Password?\r\n          </Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default SignIn;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"@reach/router\";\r\nimport { auth, generateUserDocument } from \"../firebase\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(2),\r\n      width: \"45ch\",\r\n    },\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nconst SignUp = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [rePassword, setRePassword] = useState(\"\");\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n  const classes = useStyles();\r\n\r\n  const createUserWithEmailAndPasswordHandler = async (\r\n    event,\r\n    email,\r\n    password\r\n  ) => {\r\n    event.preventDefault();\r\n    if (password && rePassword && password != rePassword)\r\n      return setError(\r\n        \"Error Signing up Password and Confirm password must be same\"\r\n      );\r\n    const expression = /(?!.*\\.{2})^([a-z\\d!#$%&'*+\\-\\/=?^_`{|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+(\\.[a-z\\d!#$%&'*+\\-\\/=?^_`{|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+)*|\"((([\\t]*\\r\\n)?[\\t]+)?([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))*(([\\t]*\\r\\n)?[\\t]+)?\")@(([a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|[a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF][a-z\\d\\-._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]*[a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])\\.)+([a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|[a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF][a-z\\d\\-._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]*[a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])\\.?$/i;\r\n    if (!expression.test(String(email).toLowerCase())){\r\n      return setError(\"Error Signing up Invalid Email Address\");\r\n    }\r\n    try {\r\n      const { user } = await auth.createUserWithEmailAndPassword(\r\n        email,\r\n        password\r\n      );\r\n      generateUserDocument(user, { displayName });\r\n    } catch (error) {\r\n      setError(\"Error Signing up with email and password\");\r\n    }\r\n\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n    setDisplayName(\"\");\r\n    setRePassword(\"\");\r\n  };\r\n\r\n  const onChangeHandler = (event) => {\r\n    const { name, value } = event.currentTarget;\r\n    if (name === \"userEmail\") {\r\n      setEmail(value);\r\n    } else if (name === \"userPassword\") {\r\n      setPassword(value);\r\n    } else if (name === \"displayName\") {\r\n      setDisplayName(value);\r\n    } else if (name == \"userRePassword\") {\r\n      setRePassword(value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    \r\n      <div className=\"mt-8\">\r\n        <h1 className=\"text-3xl mb-2 text-center font-bold\">Sign Up</h1>\r\n        <div className=\"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8\">\r\n          {error !== null && (\r\n            <div className=\"py-4 bg-red-600 w-full text-white text-center mb-3\">\r\n              {error}\r\n            </div>\r\n          )}\r\n          <form className={classes.root} noValidate autoComplete=\"off\">\r\n            {/* <label htmlFor=\"displayName\" className=\"block\">\r\n            Display Name:\r\n          </label> */}\r\n            {/* <input\r\n            type=\"text\"\r\n            className=\"my-1 p-1 w-full \"\r\n            name=\"displayName\"\r\n            value={displayName}\r\n            placeholder=\"E.g: Faruq\"\r\n            id=\"displayName\"\r\n            onChange={(event) => onChangeHandler(event)}\r\n          /> */}\r\n            <TextField\r\n              required\r\n              id=\"standard-required\"\r\n              label=\"User Name\"\r\n              type=\"text\"\r\n              className=\"my-1 p-1 w-full \"\r\n              name=\"displayName\"\r\n              defaultValue={displayName}\r\n              placeholder=\"E.g: Andy Baker\"\r\n              id=\"displayName\"\r\n              onChange={(event) => onChangeHandler(event)}\r\n            />\r\n            {/* \r\n          <label htmlFor=\"userEmail\" className=\"block\">\r\n            Email:\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"my-1 p-1 w-full\"\r\n            name=\"userEmail\"\r\n            value={email}\r\n            placeholder=\"E.g: faruq123@gmail.com\"\r\n            id=\"userEmail\"\r\n            onChange={(event) => onChangeHandler(event)}\r\n          /> */}\r\n            <TextField\r\n              required\r\n              id=\"standard-required\"\r\n              label=\"Email\"\r\n              defaultValue=\"E.g: Andy@gmail.com\"\r\n              type=\"email\"\r\n              name=\"userEmail\"\r\n              defaultValue={email}\r\n              onChange={(event) => onChangeHandler(event)}\r\n            />\r\n            {/* <label htmlFor=\"userPassword\" className=\"block\">\r\n            Password:\r\n          </label>\r\n          \r\n          <input\r\n            type=\"password\"\r\n            className=\"mt-1 mb-3 p-1 w-full\"\r\n            name=\"userPassword\"\r\n            value={password}\r\n            placeholder=\"Your Password\"\r\n            id=\"userPassword\"\r\n            onChange={(event) => onChangeHandler(event)}\r\n          /> */}\r\n            <TextField\r\n              id=\"standard-password-input\"\r\n              label=\"Password :\"\r\n              type=\"password\"\r\n              autoComplete=\"current-password\"\r\n              name=\"userPassword\"\r\n              value={password}\r\n              placeholder=\"Your Password\"\r\n              id=\"userPassword\"\r\n              onChange={(event) => onChangeHandler(event)}\r\n            />\r\n\r\n            <TextField\r\n              id=\"standard-password-input\"\r\n              label=\"Confirm Password :\"\r\n              type=\"password\"\r\n              autoComplete=\"current-password\"\r\n              name=\"userRePassword\"\r\n              value={rePassword}\r\n              placeholder=\"Reenter Your Password\"\r\n              id=\"userRePassword\"\r\n              onChange={(event) => onChangeHandler(event)}\r\n            />\r\n            <button\r\n              className=\"bg-green-400 hover:bg-green-500 w-full py-2 text-white\"\r\n              onClick={(event) => {\r\n                createUserWithEmailAndPasswordHandler(event, email, password);\r\n              }}\r\n            >\r\n              Sign up\r\n            </button>\r\n          </form>\r\n          <p className=\"text-center my-3\">\r\n            Already have an account?{\" \"}\r\n            <Link to=\"/\" className=\"text-blue-500 hover:text-blue-600\">\r\n              Sign in here\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n   \r\n  );\r\n};\r\nexport default SignUp;\r\n","import React, { Component, createContext } from \"react\";\r\nimport { auth , generateUserDocument} from \"../firebase\";\r\n\r\nexport const UserContext = createContext({ user: null });\r\nclass UserProvider extends Component {\r\n  state = {\r\n    user: {isLoaded:false}\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    auth.onAuthStateChanged(async userAuth => {\r\n      let user = await generateUserDocument(userAuth);\r\n      debugger;\r\n      if(!user){\r\n        user = {};\r\n      }\r\n      user.isLoaded = true;\r\n      this.setState({ user });\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <UserContext.Provider value={this.state.user}>\r\n        {this.props.children}\r\n      </UserContext.Provider>\r\n    );\r\n  }\r\n}\r\nexport default UserProvider;","import React, { useContext } from \"react\";\r\nimport { UserContext } from \"../providers/UserProvider\";\r\nimport {auth} from \"../firebase\";\r\nconst ProfilePage = () => {\r\n  const user = useContext(UserContext);\r\n  const {photoURL, displayName, email} = user;\r\n  return (\r\n    <div className = \"mx-auto w-11/12 md:w-2/4 py-8 px-4 md:px-8\">\r\n      <div className=\"flex border flex-col items-center md:flex-row md:items-start border-blue-400 px-3 py-4\">\r\n        {/* <div\r\n          style={{\r\n            background: `url(${photoURL || 'https://res.cloudinary.com/dqcsk8rsc/image/upload/v1577268053/avatar-1-bitmoji_upgwhc.png'})  no-repeat center center`,\r\n            backgroundSize: \"cover\",\r\n            height: \"200px\",\r\n            width: \"200px\"\r\n          }}\r\n          className=\"border border-blue-300\"\r\n        ></div> */}\r\n        <div className = \"md:pl-4\">\r\n        <h2 className = \"text-2xl font-semibold\">{displayName}</h2>\r\n        <h3 className = \"italic\">{email}</h3>\r\n        </div>\r\n      </div>\r\n      {/* <button className = \"w-full py-3 bg-red-600 mt-4 text-white\" onClick = {() => {auth.signOut()}}>Sign out</button> */}\r\n    </div>\r\n  ) \r\n};\r\nexport default ProfilePage;","import React, { useState } from \"react\";\r\nimport { Link } from \"@reach/router\";\r\nimport { auth } from \"../firebase\";\r\n\r\nconst PasswordReset = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [emailHasBeenSent, setEmailHasBeenSent] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const onChangeHandler = event => {\r\n    const { name, value } = event.currentTarget;\r\n    if (name === \"userEmail\") {\r\n      setEmail(value);\r\n    }\r\n  };\r\n\r\n  const sendResetEmail = event => {\r\n    event.preventDefault();\r\n    auth\r\n      .sendPasswordResetEmail(email)\r\n      .then(() => {\r\n        setEmailHasBeenSent(true);\r\n        setTimeout(() => {setEmailHasBeenSent(false)}, 3000);\r\n      })\r\n      .catch(() => {\r\n        setError(\"Error resetting password\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-8\">\r\n      <h1 className=\"text-xl text-center font-bold mb-3\">\r\n        Reset your Password\r\n      </h1>\r\n      <div className=\"border border-blue-300 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8\">\r\n        <form action=\"\">\r\n          {emailHasBeenSent && (\r\n            <div className=\"py-3 bg-green-400 w-full text-white text-center mb-3\">\r\n              An email has been sent to you!\r\n            </div>\r\n          )}\r\n          {error !== null && (\r\n            <div className=\"py-3 bg-red-600 w-full text-white text-center mb-3\">\r\n              {error}\r\n            </div>\r\n          )}\r\n          <label htmlFor=\"userEmail\" className=\"w-full block\">\r\n            Email:\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"userEmail\"\r\n            id=\"userEmail\"\r\n            value={email}\r\n            placeholder=\"Input your email\"\r\n            onChange={onChangeHandler}\r\n            className=\"mb-3 w-full px-1 py-2\"\r\n          />\r\n          <button\r\n            className=\"w-full bg-blue-400 text-white py-3\"\r\n            onClick={sendResetEmail}\r\n          >\r\n            Send me a reset link\r\n          </button>\r\n        </form>\r\n        <Link\r\n         to =\"/\"\r\n          className=\"my-2 text-blue-700 hover:text-blue-800 text-center block\"\r\n        >\r\n          &larr; back to sign in page\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default PasswordReset;","import React,{useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport * as authService from \"../firebase\";\r\nimport { UserContext } from \"../providers/UserProvider\";\r\nimport { Link } from '@reach/router';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nexport default function MenuAppBar() {\r\n  const classes = useStyles();\r\n  const [auth, setAuth] = React.useState(true);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const user = useContext(UserContext);\r\n  const { displayName, email} = user;\r\n\r\n  const handleChange = (event) => {\r\n    setAuth(event.target.checked);\r\n  };\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleLogOut = () => {\r\n    authService.auth.signOut();\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {/* <FormGroup>\r\n        <FormControlLabel\r\n          control={<Switch checked={auth} onChange={handleChange} aria-label=\"login switch\" />}\r\n          label={auth ? 'Logout' : 'Login'}\r\n        />\r\n      </FormGroup> */}\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            File Management System\r\n          </Typography>\r\n          {auth && (\r\n            <div>\r\n                \r\n              <span style={{fontSize:\"18px\"}}> Hi {displayName} </span>\r\n              <IconButton\r\n                aria-label=\"account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleMenu}\r\n                color=\"inherit\"\r\n              > \r\n                <AccountCircle />\r\n              </IconButton>\r\n              <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                keepMounted\r\n                transformOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                open={open}\r\n                onClose={handleClose}\r\n              >\r\n                <MenuItem onClick={handleClose}> <Link to=\"profile\"> Profile</Link></MenuItem>\r\n                <MenuItem onClick={handleClose}>My account</MenuItem>\r\n                <MenuItem onClick={handleLogOut}>LogOut</MenuItem>\r\n              </Menu>\r\n            </div>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","export const SET_FILE = \"SET_FILE\";\r\nexport const ADD_FILE = \"ADD_FILE\";\r\nlet initialState = {\r\n  file: {\r\n    parentFolderId: null,\r\n    currentFolderId: null,\r\n    files:[]\r\n  },\r\n};\r\n\r\nconst prefReducer = (state = initialState, action = {}) => {\r\n  switch (action.type) {\r\n    case \"SET_FILE\":\r\n      state = { ...state, file: {...state.file, \r\n        parentFolderId: action.payload.parentFolderId ,\r\n        currentFolderId: action.payload.currentFolderId } };\r\n      return state;\r\n    case \"ADD_FILE\":\r\n      state = { ...state, file: { ...state.file, files: action.payload}};\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default prefReducer;\r\n\r\nexport function setFileSettings(state) {\r\n  return { type: SET_FILE, payload: state };\r\n}\r\nexport function setFiles(state) {\r\n    return { type: ADD_FILE, payload: state };\r\n}","import fileReducer from \"./fileReducer\";\r\nimport { combineReducers } from \"redux\";\r\nexport default combineReducers({\r\n  folderSettings: fileReducer,\r\n});\r\n","\r\nimport {createStore, compose, applyMiddleware} from \"redux\";\r\nimport rootReducer from \"./reducer/rootReducer\";\r\nimport {createLogger } from \"redux-logger\";\r\nimport { routerMiddleware, push } from 'react-router-redux';\r\nimport { createBrowserHistory } from \"history\";\r\nconst browserHistory = createBrowserHistory();\r\nconst routeMiddleware = routerMiddleware(browserHistory);\r\n\r\nconst store =  createStore(\r\n    rootReducer,\r\n    window.__REDUX_DEVTOOLS_EXTENSION__\r\n        ? compose(\r\n              applyMiddleware(routeMiddleware),\r\n              window.__REDUX_DEVTOOLS_EXTENSION__(),\r\n          )\r\n        : applyMiddleware(createLogger(),routeMiddleware),\r\n);\r\nexport default store;","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  form: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    margin: \"auto\",\r\n    width: \"fit-content\",\r\n    marginTop: theme.spacing(2),\r\n    minWidth: 220,\r\n    minHeight: 80,\r\n    justifyContent: \"center\",\r\n    padding: theme.spacing(2),\r\n    justifyItems: \"center\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  formControl: {\r\n    marginTop: theme.spacing(2),\r\n    minWidth: 120,\r\n  },\r\n  formControlLabel: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport default function FormDialog(props) {\r\n  const [open, setOpen] = React.useState(false);\r\n  const [folderName, setFolderName] = React.useState(null);\r\n  const classes = useStyles();\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleFolderNameChange = (e) => {\r\n    if (e.target.value && e.target.value != \"\") {\r\n      setFolderName(e.target.value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* <Button variant=\"outlined\" color=\"primary\" onClick={handleClickOpen}>\r\n        Open form dialog\r\n      </Button> */}\r\n      <span onClick={handleClickOpen}> {props.children}</span>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogContent class={classes.form}>\r\n          <TextField\r\n            required\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label=\"Folder Name :\"\r\n            type=\"text\"\r\n            fullWidth\r\n            onChange={handleFolderNameChange}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            style={{ marginRight: \"20px\" }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              props.handleFolderAdd(folderName);\r\n              setFolderName(null);\r\n              setOpen(false);\r\n            }}\r\n            variant=\"contained\"\r\n            justify=\"center\"\r\n            color=\"primary\"\r\n          >\r\n            Create Folder\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useContext } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Link } from \"@reach/router\";\r\nimport FormDialog from \"../Components/Dialog\";\r\nimport { setFileSettings, setFiles } from \"../reducer/fileReducer\";\r\nimport { connect } from \"react-redux\";\r\nimport { UserContext } from \"../providers/UserProvider\";\r\nimport uuid from \"react-uuid\";\r\nimport { generateFileStructure, db } from \"../firebase\";\r\n\r\nconst backStack = [];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  folder: {\r\n    height: 100,\r\n    width: 100,\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  control: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  header: {\r\n    padding: theme.spacing(2),\r\n    margin: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nfunction FileContainer(props) {\r\n  const [spacing, setSpacing] = React.useState(2);\r\n  const [folders, setFolders] = React.useState([]);\r\n  const [folderSetting, setFolderSettings] = React.useState({});\r\n  const [currentPageName, setCurrentPageName] = React.useState(\"Home\");\r\n  const [prevSettings, setPrevSettings] = React.useState({});\r\n\r\n  const classes = useStyles();\r\n  const user = useContext(UserContext);\r\n  const { displayName, email } = user;\r\n\r\n  const handleFolderAdd = (folderName) => {\r\n    if (folderName && folderName != null && folderName != \"\") {\r\n      let file = {};\r\n      file[\"parentFolderId\"] = props.folderSettings.file.parentFolderId;\r\n      file[\"id\"] = uuid();\r\n      file[\"name\"] = folderName;\r\n      file[\"type\"] = \"folder\";\r\n      file[\"url\"] = \"\";\r\n\r\n      folders.push(file);\r\n      generateFileStructure(file);\r\n      props.setFiles(folders);\r\n    }\r\n  };\r\n\r\n  const fetchAllFiles = async (parentFolderId = null) => {\r\n    try {\r\n      let querySnapshot = await db\r\n        .collection(\"files\")\r\n        .where(\"parentFolderId\", \"==\", parentFolderId)\r\n        .get();\r\n\r\n      const data = querySnapshot.docs.map((doc) => doc.data());\r\n      if (data != null && data) {\r\n        setFolders(data);\r\n        props.setFiles(data.sort((t1, t2) => t1.time - t2.time));\r\n      }\r\n      return data;\r\n    } catch (e) {\r\n      console.error(\"Error fetching files\", e);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let folderList = fetchAllFiles(folderSetting.parentFolderId || email);\r\n    if (folderList && folderList != null) {\r\n      setFolders(folderList);\r\n    }\r\n    setCurrentPageName(\"Home\");\r\n  }, []);\r\n\r\n  const setCurrentFolderSettings = (setting) => {\r\n    let parentId = setting.parentFolderId;\r\n    let currentId = setting.currentFolderId;\r\n    let currentPage = currentPageName;\r\n\r\n    setPrevSettings({\r\n      parentFolderId: parentId,\r\n      currentFolderId: currentId,\r\n      currentPage: currentPageName,\r\n    });\r\n\r\n    backStack.push({\r\n      parentFolderId: parentId,\r\n      currentFolderId: currentId,\r\n      currentPage: currentPageName,\r\n    });\r\n\r\n    setFolderSettings({\r\n      parentFolderId: setting.id,\r\n      currentFolderId: setting.id,\r\n    });\r\n\r\n    props.setFileSettings({\r\n      parentFolderId: setting.id,\r\n      currentFolderId: setting.id,\r\n    });\r\n\r\n    setCurrentPageName(setting.name);\r\n    fetchAllFiles(setting.id);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (\r\n      props.folderSettings &&\r\n      props.folderSettings.parentFolderId &&\r\n      props.folderSettings.parentFolderId != null\r\n    ) {\r\n      setFolderSettings({\r\n        parentFolderId: props.folderSettings.parentFolderId,\r\n        currentFolderId: props.folderSettings.currentFolderId,\r\n      });\r\n    } else {\r\n      setFolderSettings({\r\n        parentFolderId: email,\r\n      });\r\n    }\r\n    setFolders(props.folderSettings.file.files);\r\n  }, [props.folderSettings]);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      props.folderSettings.file.files &&\r\n      props.folderSettings.file.files != null\r\n    ) {\r\n      setFolders(props.folderSettings.file.files);\r\n    } else {\r\n      setFolders([]);\r\n    }\r\n  }, [props.folderSettings.file.files]);\r\n\r\n  const goToPrevPage = () => {\r\n    let prevSetting = backStack.pop();\r\n\r\n    if (\r\n      !prevSetting ||\r\n      (!prevSetting.parentFolderId && !prevSetting.currentFolderId)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    setFolderSettings({\r\n      parentFolderId: prevSetting.parentFolderId,\r\n      currentFolderId: prevSetting.currentFolderId,\r\n    });\r\n\r\n    props.setFileSettings({\r\n      parentFolderId: prevSetting.parentFolderId,\r\n      currentFolderId: prevSetting.currentFolderId,\r\n    });\r\n\r\n    setCurrentPageName(prevSetting.currentPage);\r\n    fetchAllFiles(prevSetting.parentFolderId);\r\n  };\r\n\r\n  return (\r\n    <Grid container className={classes.root} spacing={2}>\r\n      <Typography\r\n        onClick={(e) => goToPrevPage()}\r\n        display=\"block\"\r\n        variant=\"h6\"\r\n        className={classes.header}\r\n      >\r\n        {currentPageName}\r\n      </Typography>\r\n\r\n      <Grid item xs={12}>\r\n        <Grid container justify=\"flex-start\" spacing={spacing}>\r\n          {folders &&\r\n            folders.length > 0 &&\r\n            folders.map((value) => (\r\n              <Grid\r\n                key={value.id}\r\n                item\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  setCurrentFolderSettings(value);\r\n                }}\r\n              >\r\n                <img src={require(\"../folder.png\")} className={classes.folder} />\r\n                <label>{value.name}</label>\r\n                {/* <Paper className={classes.paper} /> */}\r\n              </Grid>\r\n            ))}\r\n          <Grid\r\n            key={-1}\r\n            item\r\n          >\r\n            <FormDialog handleFolderAdd={handleFolderAdd}>\r\n              <img\r\n                src={require(\"../addfolder.jpg\")}\r\n                title={\"New Folder\"}\r\n                className={classes.folder}\r\n              />\r\n            </FormDialog>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    folderSettings: state.folderSettings,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setFileSettings: (mode) => dispatch(setFileSettings(mode)),\r\n    setFiles: (mode) => dispatch(setFiles(mode)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FileContainer);\r\n","import React, { useContext } from \"react\";\r\nimport { Router } from \"@reach/router\";\r\nimport SignIn from \"./SignIn\";\r\nimport SignUp from \"./SignUp\";\r\nimport ProfilePage from \"./ProfilePage\";\r\nimport PasswordReset from \"./PasswordReset\";\r\nimport { UserContext } from \"../providers/UserProvider\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport MenuAppBar from \"./MenuAppBar\";\r\nimport store from \"../store\";\r\nimport FileContainer from \"../Container/files\";\r\nimport {syncHistoryWithStore} from 'react-router-redux';\r\n//import {BrowserRouter as Router, Route} from \"react-router-dom\";\r\nimport { createBrowserHistory } from \"history\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nfunction Application() {\r\n  const user = useContext(UserContext);\r\n  const browserHistory = createBrowserHistory();\r\n // const history = syncHistoryWithStore(browserHistory, store);\r\n\r\n  const getView = function () {\r\n    return (\r\n      <Provider store={store}>\r\n        <CssBaseline />\r\n\r\n        {/* <Typography\r\n            component=\"div\"\r\n            style={{ backgroundColor: \"#cfe8fc\", height: \"100vh\" }}\r\n          /> */}\r\n        {user.isLoaded && user.email ? (\r\n          \r\n          <Container>\r\n            <MenuAppBar />\r\n            <Router history={browserHistory}>\r\n            <ProfilePage path=\"profile\"/>\r\n            <FileContainer path=\"/\" />\r\n            <FileContainer path=\"/fms\" />\r\n            </Router>\r\n          </Container>\r\n         \r\n        ) : user.isLoaded ? (\r\n          <Container maxWidth=\"md\">\r\n            <Router history={browserHistory}>\r\n              <SignUp path=\"signUp\" />\r\n              <SignIn path=\"/\" />\r\n              <SignIn path=\"/fms\" />\r\n              <PasswordReset path=\"passwordReset\" />\r\n            </Router>\r\n          </Container>\r\n        ) : (\r\n          <Loader\r\n            style={{ margin: \"300px 800px auto\" }}\r\n            type=\"ThreeDots\"\r\n            color=\"#00BFFF\"\r\n            height={80}\r\n            width={80}\r\n          />\r\n        )}\r\n      </Provider>\r\n    );\r\n  };\r\n\r\n  return getView();\r\n}\r\nexport default Application;\r\n","import React from \"react\";\nimport Application from \"./Components/Application\";\nimport UserProvider from \"./providers/UserProvider\";\nfunction App() {\n  return (\n    <UserProvider>\n      <Application />\n    </UserProvider>\n  );\n}\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {BrowserRouter as Router, Route} from \"react-router-dom\";\nimport {createBrowserHistory} from \"history\";\nimport {Provider} from \"react-redux\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}